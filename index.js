javascript:var x,q,state,y=[],z=[],cal=[],date=(new Date).toLocaleDateString(),st=(new Date).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"});function reinitializedate(){if(x=document.getElementsByClassName("order-booking"),null!=(date=prompt("Date(DD/MM/YYYY):"))){date.includes("/")?date=date.split("/")[1]+"/"+date.split("/")[0]+"/"+date.split("/")[2]:date.includes(" ")&&(date=date.split(" ")[0]+" "+date.split(" ")[1]+" "+date.split(" ")[2]),st=new Date(date).toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"});var t=document.getElementById("txtdatetimeshow").textContent.split(" - "),e=parseInt(t[0][0]+t[0][1]),a=parseInt(t[1][0]+t[1][1]),i=t[0].split(" ")[1],n=t[1].split(" ")[1],r=st.split(" ")[1],d=parseInt(st.split(" ")[0][0]+st.split(" ")[0][1]);i!=n&&d>a&&d<e?alert("date selected not within the current week."):i==n&&(d>e||d<a)?alert("date selected not within the current week."):r==i||r==n||alert("date selected not within the current week.")}else alert("no date selected.")}function reformatdisplay(){if(0==document.getElementsByClassName("calendar-week-view").length&&document.getElementsByClassName("BookingCard").length>0&&(q=!0),document.getElementsByClassName("calendar-week-view").length>0&&(q=!1),q)q&&(document.getElementsByClassName("calendar")[0].innerHTML=cal,q=!1);else{cal=document.getElementsByClassName("calendar")[0].innerHTML,x=document.getElementsByClassName("order-booking");var t=0;if(null==date)return void alert("no date selected.");for(i=0;i<x.length;i++)x[i].title.includes(st)&&(y.push(x[i].title),t++);if(0==t&&0==q)return void alert("No bookings for the date selected.");for(i=0;i<y.length;i++)y[i].includes("Subject:")&&(y[i]=y[i].split("Subject:")[0]),y[i].includes("Status: Auto approved")&&(y[i]=y[i].split("Status: Auto approved")[0]+y[i].split("Status: Auto approved")[1]);for(i=0;i<y.length;i++)y[i]=st+" "+y[i].split(st)[1],z[0]=document.createElement("div"),z[0].setAttribute("class","BookingCard"),z[0].setAttribute("style","max-width:80%;height:auto;margin:20px auto; background: cyan; padding: 20px; overflow: hidden; border-radius: 8px; box-shadow: 5px 10px; transition: 0.6s; background-image: linear-gradient(to right, #FFFFFF, #0652DD, #12CBC4);"),z[1]=document.createElement("h1"),z[1].setAttribute("style","margin:0 0; padding: 0;"),z[1].textContent=y[i].split(st)[1].split("Remark: ")[0],z[2]=document.createElement("h3"),z[2].setAttribute("style","margin:0 0; padding: 0;"),z[2].textContent="Remark: "+y[i].split("Remark: ")[1],z[0].appendChild(z[1]),z[0].appendChild(z[2]),z[0].append(st),y[i]=z[0],z=[];var e=document.getElementsByClassName("calendar");for(e[0].innerHTML="",i=0;i<y.length;i++)e[0].appendChild(y[i]);e=[],y=[],z=[],t=0,q=!0}document.getElementById("inputFacilityName").focus()}var cheytan=document.createElement("div");cheytan.setAttribute("style","float:right;width: 50%;height:35px;margin-top: 0;");var rdb=document.createElement("div");rdb.setAttribute("class","fbutton");var rid=document.createElement("button");rid.setAttribute("class","button2 btn"),rid.setAttribute("onclick","reinitializedate()"),rid.setAttribute("id","dapeTicker"),rid.innerHTML="Pick a Date",rdb.appendChild(rid);var srb=document.createElement("div");srb.setAttribute("class","fbutton");var rfd=document.createElement("button");rfd.setAttribute("class","button2 btn"),rfd.setAttribute("onclick","reformatdisplay()"),rfd.setAttribute("id","quantumFacibrator"),rfd.innerHTML="Bookings",srb.appendChild(rfd),cheytan.appendChild(rdb),cheytan.appendChild(srb),null!=state&&0!=state||(document.getElementById("caltoolbar").querySelector(".clear").parentNode.insertBefore(cheytan,document.getElementById("caltoolbar").firstElementChild.lastElementChild),state=1);
